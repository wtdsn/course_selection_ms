import{u as E,d as k,E as B,e as F,f as g,l as S}from"./index-7e481cc7.js";import{E as M,a as U}from"./el-form-item-9e57f358.js";import"./el-input-5fe85962.js";import{o as p,W as m,X as e,d as z,D as w,I as N,a,w as n,ac as d,aq as A,ar as D,am as x,ao as H}from"./_plugin-vue_export-helper-1f852bcb.js";const q={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},L=e("path",{fill:"currentColor",d:"M12 17a2 2 0 0 0 2-2a2 2 0 0 0-2-2a2 2 0 0 0-2 2a2 2 0 0 0 2 2m6-9a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h1V6a5 5 0 0 1 5-5a5 5 0 0 1 5 5v2h1m-6-5a3 3 0 0 0-3 3v2h6V6a3 3 0 0 0-3-3Z"},null,-1),R=[L];function T(l,s){return p(),m("svg",q,R)}const W={name:"mdi-password",render:T},X={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Z=e("path",{fill:"currentColor",d:"M288 320a224 224 0 1 0 448 0a224 224 0 1 0-448 0zm544 608H160a32 32 0 0 1-32-32v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 0 1-32 32z"},null,-1),j=[Z];function G(l,s){return p(),m("svg",X,j)}const J={name:"ep-user-filled",render:G},f=l=>(A("data-v-663f35ad"),l=l(),D(),l),K={class:"login_container"},O={class:"login_box"},P=f(()=>e("div",{class:"title"},"学生选课管理系统",-1)),Q={class:"login_form"},Y=f(()=>e("span",{class:"span"},null,-1)),ee=f(()=>e("div",{class:"line"},"点击按钮选择你的身份",-1)),oe={class:"toggle_auth"},te=z({__name:"login",setup(l){const s=w("student");function c(i){s.value=i}const t=N({number:"",pw:""}),v=E(),_=w(!1),V=k();async function b(){if(!(t.number&&t.pw)){g.warning("账号和密码不能为空");return}_.value=!0;try{const i=await S({...t,auth:s.value});i.code===1&&(g.success("登录成功"),v.setInfo(i.data),v.auth=s.value,localStorage.setItem("isLogin","true"),V.push({path:"/"})),t.pw="",_.value=!1}catch{_.value=!1}}return(i,o)=>{const $=J,h=B,u=M,C=W,I=F,y=U;return p(),m("div",K,[e("div",O,[P,e("div",Q,[a(y,{ref:"loginForm",model:t},{default:n(()=>[a(u,{label:"",prop:"number"},{default:n(()=>[a(h,{class:"form_input",modelValue:t.number,"onUpdate:modelValue":o[0]||(o[0]=r=>t.number=r),modelModifiers:{number:!0},type:"text",placeholder:"请输入账号",autocomplete:"off"},{prefix:n(()=>[a($)]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"",prop:"pw"},{default:n(()=>[a(h,{class:"form_input",modelValue:t.pw,"onUpdate:modelValue":o[1]||(o[1]=r=>t.pw=r),"show-password":!0,type:"password",placeholder:"请输入密码",autocomplete:"off"},{prefix:n(()=>[a(C)]),_:1},8,["modelValue"])]),_:1}),a(u,null,{default:n(()=>[a(I,{type:"primary",class:"login_button",loading:_.value,onClick:b},{default:n(()=>[x(" 登"),Y,x("录 ")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),ee,e("ul",oe,[e("li",{onClick:o[2]||(o[2]=r=>c("student")),class:d({active:s.value==="student"})}," 学生 ",2),e("li",{onClick:o[3]||(o[3]=r=>c("teacher")),class:d({active:s.value==="teacher"})}," 教师 ",2),e("li",{onClick:o[4]||(o[4]=r=>c("admin")),class:d({active:s.value==="admin"})}," 管理员 ",2)])])])}}});const ie=H(te,[["__scopeId","data-v-663f35ad"]]);export{ie as default};
